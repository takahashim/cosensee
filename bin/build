#!/usr/bin/env ruby
# frozen_string_literal: true

require 'bundler/setup'
require 'cosensee'

filename = ARGV[0]

if !filename || !File.exist?(filename)
  puts "Error: file not found: #{filename}"
  puts 'Usage: bin/build <filename>'
  exit 1
end

project = Cosensee::Project.parse_file(filename)
builder = Cosensee::HtmlBuilder.new(project)
builder.build_all
